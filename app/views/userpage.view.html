<div class = "container" id = "user_page">
  <div class = "col-xs-12 big_title">
    <h1 class = "col-xs-6">My Leagues</h1>
    <div class = "col-xs-6 text-right">
      <button type = "button" class = "btn btn-primary league_btn"  data-toggle="modal" data-target="#create_league_modal">
        <i class = "fa fa-plus"></i> Create a league
      </button>
      <button type = "button" class = "btn btn-primary league_btn"  data-toggle="modal" data-target="#join_league_modal">
        <i class = "fa fa-link"></i> Join a league
      </button>
    </div>
  </div>

  <ul class = "col-xs-12">
    <li ng-repeat = "league in leagues" class = "">
      <div class = "col-xs-12 no-padding">
        <a ui-sref = "league.menu({id:league.id})">
          <img src = "../images/league.jpg" class = "col-xs-7 no-padding" alt = "league logo"/>
          <div class = "col-xs-5">
            <div class = "league_info">
              <h3 class = "league_name">{{league.name}}&nbsp;</h3>
              <p ng-if="league.state == 'INVITE'"><span>State: </span>Invitations Open</p>
              <p ng-if="league.state == 'READYTODRAFT'"><span>State: </span>Preparing draft</p>
              <p ng-if="league.state == 'DRAFTING'"><span>State: </span>Draft occurring</p>
              <p ng-if="league.state == 'DURATION'"><span>State: </span>Ongoing</p>
              <p><span>Number of Teams: </span>{{league.numTeams}}</p>
              <!--<p><span>Current Position: </span>3th</p>-->
            </div>
          </div>
        </a>

        <div class="text-center">
          <button ng-show="me == league.creator" class = "btn btn-sm btn-warning delete_league_btn" ng-click = "delete_league(league.id)" tooltip-placement = "top" tooltip = "Delete League">
            <i class = "fa fa-trash-o" aria-hidden = "true"></i>
          </button>
          <button ng-click="shareLink(league.name, league.id)" class = "btn btn-sm btn-warning delete_league_btn" >
            <i class = "fa fa-share" aria-hidden = "true"></i>
          </button>
        </div>
      </div>
    </li>
  </ul>
</div>

<!-- Join league Modal -->
<div id="join_league_modal" class="modal fade my-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" class="fa fa-times-circle-o"></span></button>
        <h4 class="modal-title">Joining to a league</h4>
      </div>
      <div class="modal-body">
        <form action = "" class="form-horizontal">
          <div class="form-group">
            <label for="league_id" class="col-sm-2 control-label">League ID</label>
            <div class="col-sm-10">
              <input type = "text" id="league_id" ng-model = "join_league_id" class="form-control" placeholder = "League ID">
            </div>
          </div>
          <div class="form-group text-center">
            <button type="button" class="btn btn-default" ng-click = "joinLeague()">Join League!</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- /Join league Modal -->

<!-- Create league Modal -->
<div id="create_league_modal" class="modal fade my-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" class="fa fa-times-circle-o"></span></button>
        <h4 class="modal-title">Creating a new league</h4>
      </div>
      <div class="modal-body">
        <form action = "" class = "form-horizontal">
          <div class="form-group">
            <label for="create_league_name" class="col-sm-4 control-label">League Name</label>
            <div class="col-sm-8">
              <input type = "text" id="create_league_name" class="form-control" ng-model = "create_league_name" placeholder = "League Name">
            </div>
          </div>
          <div class="form-group">
            <label for="create_league_time" class="col-sm-4 control-label">Draft Turn Time (seconds)</label>
            <div class="col-sm-8">
              <input type = "number" id="create_league_time" class="form-control" min="10" max="60" ng-model = "create_league_time" placeholder="10">
            </div>
          </div>
          <div class="form-group text-center">
            <button type="button" class="btn btn-default" ng-click = "createLeague()">Create League!</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- /Create league Modal -->

<!-- Share Link Modal -->
<div id="share_link_modal" class="modal fade my-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" class="fa fa-times-circle-o"></span></button>
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body">
        <h4 class="col-xs-12 text-center">Share this link with your friends</h4>
        <br/>
        <p class="col-xs-12 text-center" id="league_link"></p>
      </div>
      <div class="modal-footer">

      </div>
    </div>
  </div>
</div>
<!-- Share Link Modal -->
